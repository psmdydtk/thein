<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="crud.mapper">
	<!-- 회원가입 -->
	<insert id="insertUser" parameterType="ob">
	<![CDATA[
		insert into TB_CUSTOMER(NAME,PASSWORD,ID) 
		VALUES(#{name},#{password},#{id})
	]]>
	</insert>
	
	<!-- 리스트불러오기 -->
	<select id="listUser" resultType="ob">
	<![CDATA[
	select * from TB_CUSTOMER
	]]>
	
	
	<!--회원정보 검색  -->
	</select>
	<select id="searchId" resultType="ob">
	<![CDATA[
	select * 
	from TB_CUSTOMER
	where ID = #{id}
	]]>
	</select>

	<!-- 로그인 -->
	<select id="loginUser" resultType="String">
	<![CDATA[
	select count(*)
	from TB_CUSTOMER
	where ID = #{id} and PASSWORD = #{password}
	]]>
	</select>

	<!-- 회원탈퇴 -->
	<select id="deleteUser" resultType="ob">
	<![CDATA[
	DELETE FROM TB_CUSTOMER tc 
	WHERE ID = #{id}
	]]>
	</select>

	<!-- 회원정보수정  -->
	<select id="updateUser" resultType="ob">
	<![CDATA[
	UPDATE TB_CUSTOMER 
	SET NAME = #{name} ,PASSWORD =#{password}
	WHERE id= #{id}
	]]>
	</select>
	
	<!-- 아이디 총 개수 조회 -->
	<select id="countList" resultType="int">
	<![CDATA[
	select count(*) from TB_CUSTOMER
	]]>
	</select>
	
	<!-- 페이징 처리 후 게시글 조회 -->
	<select id="selectBoard" resultType="ob">
		SELECT *
		FROM (
		SELECT ROWNUM RN, A.*
		FROM (
		SELECT *
		FROM TB_CUSTOMER
		ORDER BY ID DESC
		) A
		)
		WHERE RN BETWEEN #{start} AND #{end}
	</select>

</mapper>